# mashtodo

Live version at [mashtodo.mobywan.com](mashtodo.mobywan.com). Best viewed in Chrome. Lightly tested in Firefox and IE 10).

## Approach

The guidelines called for a front end via Express with Stylus and Jade. I consider Express to be a framework for building APIs more than anything else (with view rendering handed off / run once at initial runtime or otherwise with caching, and the result served as static files either by Express or a more capable static server like Nginx).

So along those lines: at runtime the front end app is compiled via Webpack's Node API and served via Express static middleware as a script included in the base doc generated by Jade. All images, css (generated by the Stylus source) and views are rendered / included by the one script bundle at runtime in the client.

The bonus is less requests and a focus on optimizing one file for delivery to the user. For apps that require it, it also makes lazy loading scripts and other resources easy.

The main downside is the stylesheets are loaded later than usual, which explains the flicker of unformatted UI initially. In production I'd opt for separating the CSS and loading it in the header the traditional way.

## API Variance from Guidelines

Since all the todo items are required upfront, there's only a bulk GET method. If a GET request was necessary for a specific item, I'd throw that under the /items/:id resource endpoint.

Search - I didn't see a need for a search endpoint since all the todos were loaded in the client and could be searched easily there.

I added a `time` field to the stored items on the server for use in sorting in the client as well as referencing when I need to reconcile the client item with an _id for a newly created item on the server.

## Twilio

The Twilio API comes into play when a string following the form of `notify:+1-111-1111` is found in the body of a todo. When an item is marked "done", the body is checked for the notify tag and an SMS is sent with the title of the note. **Warning** a message will be sent again if the `done` status is toggled from `true` to `false` and back again.

## Wishlist

If this were a production app I'd do...

*   Better server side sanitization
*   More validation (namely phone numbers)
*   Handle / toast error reporting (currently taking advantage of the fact it's my own API)
*   Authentication when users are warranted
*   TESTING (I like jasmine)

PS.. Please don't sue me for using the mash**ape**!!

---

CLOC Source Line Count
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Javascript                      12            184             92            649